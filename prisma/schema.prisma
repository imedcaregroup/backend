// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}



model User {
  id      Int      @id @default(autoincrement())
  email   String?  @unique
  password    String?
  authProvider String
  googleId String?
  mobileNumber String?
  otp Int?
  name String? 
  surName String?
  pytroNym String?
  dob DateTime?
  gender String?
  country String?
  address String?
  lat Float?
  lng Float?
  notificationEnabled Boolean  @default(false)
}


model Service{
   id      Int      @id @default(autoincrement())
   iconUrl String
   name    String
   categories   Category[]
}



model Category{
   id      Int      @id @default(autoincrement())
   iconUrl String
   name    String
   serviceId   Int    
   service     Service   @relation(fields: [serviceId], references: [id]) 
   subcategories   SubCategory[]
}



model SubCategory{
   id      Int      @id @default(autoincrement())
   iconUrl String
   name    String
   categoryId   Int    
   category     Category   @relation(fields: [categoryId], references: [id]) 
   medicalCatrgories MedicalCategory[]
}


model Medical{
   id      Int      @id @default(autoincrement())
   iconUrl String
   name    String
   lat  Float
   lng Float
   address String 
   medicalCatrgories MedicalCategory[]
}


model MedicalCategory{
   id      Int      @id @default(autoincrement())
   medicalId Int
   subCategoryId Int
   createdAt         DateTime         @default(now())
   medical           Medical          @relation(fields: [medicalId], references: [id])
   subCategory       SubCategory       @relation(fields: [subCategoryId], references: [id])
   price    Float @default(0)
}
